import{s as o}from"./index-laD0T8Yw.js";const c={async callEdgeFunction(t,e={}){const{data:{session:n}}=await o.auth.getSession();if(!n)throw new Error("Not authenticated");const s=await fetch(`undefined/functions/v1/sender-domains?action=${t}`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw new Error(a.error||"Edge function request failed");return a},async getAll(){return(await this.callEdgeFunction("list")).domains||[]},async getVerifiedDomains(){return(await this.callEdgeFunction("verified")).domains||[]},async addDomain(t,e={}){const{subdomain:n}=e;return(await this.callEdgeFunction("add",{domain:t,subdomain:n||null})).domain},async verifyDomain(t){return await this.callEdgeFunction("verify",{domainId:t})},async updateDefaults(t,e){return(await this.callEdgeFunction("update",{domainId:t,updates:e})).domain},async deleteDomain(t){await this.callEdgeFunction("delete",{domainId:t})}};export{c as s};
